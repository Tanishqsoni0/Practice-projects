<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissor 2</title>
</head>
<body>
    <p>
        Rock Paper Scissors
    </p>

    <button onclick=" 
     playGame('Rock');
    ">
        Rock
    </button>

    <button onclick=" 
    playGame('Paper');
    ">
        Paper
    </button>

    <button onclick=" 
    playGame('Scissors');
    ">
        Scissors
    </button>

    <p class="js_result"></p>  
    <p class="js_moves"></p>
    <p class="js_score"></p>  
      
    <button onclick="
    scoreCard.Win=0
    scoreCard.Lose=0
    scoreCard.Tie=0
    localStorage.removeItem('score');

    jsScore();
    ">
        Reset Score
    </button>
    <script>
        const scoreCard = JSON.parse(localStorage.getItem('score')) ||{
            Win: 0,
            Lose: 0,
            Tie:0
        };

        jsScore();
    
        function playGame(yourChoice){

            let computerChoice = pickForComputer();

            let result='';

            if(yourChoice === 'Rock'){
                if(computerChoice === 'Rock'){
                    result='Tie';
                    scoreCard.Tie++;
                }
                else if(computerChoice === 'Paper'){
                    result='Lose';
                    scoreCard.Lose++;
                }
                else if(computerChoice === 'Scissors'){
                    result='Win';
                    scoreCard.Win++;
                };
            }
            else if(yourChoice === 'Paper'){
                if(computerChoice === 'Rock'){
                    result='Win';
                    scoreCard.Win++;
                }
                else if(computerChoice === 'Paper'){
                    result='Tie';
                    scoreCard.Tie++;
                }
                else if(computerChoice === 'Scissors'){
                    result='Lose';
                    scoreCard.Lose++;
                };
            }
            else if( yourChoice === 'Scissors'){
                if(computerChoice === 'Rock'){
                    result='Lose';
                    scoreCard.Lose++;
                }
                else if(computerChoice === 'Paper'){
                    result='Win';
                    scoreCard.Win++;
                }
                else if(computerChoice === 'Scissors'){
                    result='Tie';
                    scoreCard.Tie++;
                };
            }
            document.querySelector('.js_result').innerHTML = `${result}`
            document.querySelector('.js_moves').innerHTML = `Your ${yourChoice} - ${computerChoice} Computer`

            localStorage.setItem('score', JSON.stringify(scoreCard));

            jsScore();
            
        }
        function pickForComputer(){
            let computerChoice = '';
            const randomNumber = Math.random();
    
            if(randomNumber >= 0 && randomNumber < 1/3){
                computerChoice= 'Rock';
            }
            else if(randomNumber >= 1/3 && randomNumber < 2/3){
                computerChoice= 'Paper';
            }
            else if(randomNumber >= 2/3 && randomNumber < 1){
                computerChoice= 'Scissors';
            }
            console.log(computerChoice);
            return computerChoice;
        }
        function jsScore(){
            document.querySelector('.js_score').innerHTML=`Wins: ${scoreCard.Win}, Loses: ${scoreCard.Lose}, Ties: ${scoreCard.Tie}`;
        }
    </script>
</body>
</body>
</html>